<!-- Large desktop banner. Must be used with "Large banner limit and switch" mixin -->

 <!-- CREATED AT: 2019-09-22T15:15:25+00:00 -->

<style>
/* Hide when editing */
.action-edit #centralNotice,
.ve-activated #centralNotice {
    display: none !important;
}

/* Fix fixed position z-index for de.wikipedia */
.mw-body { z-index: auto; }
#siteNotice { z-index: 2; }

/* Border-Box */

.frb,
.frb *,
.frb *:before,
.frb *:after {
    -moz-box-sizing: border-box;
    -webkit-box-sizing: border-box;
    box-sizing: border-box;
}

/* Banner wide settings */

.frb input,
.frb button {
    font-size: inherit;
    font-family: inherit;
}

.frb button {
    cursor: pointer;
    border: 0;
    background: transparent;
    padding: 0;
}

/* --- Main banner wrapper --- */

#siteNotice {
    z-index: 2;
}

.frb {
    display: none;
    background-color: #fff;
    color: #000;
    font-size: 16px;
    line-height: 1.1875; /*19px @16px*/
    font-family: system-ui, -apple-system,BlinkMacSystemFont, "Segoe UI", Roboto, "Oxygen-Sans", Ubuntu, Cantarell, Lato, "Helvetica Neue", Helvetica, Arial, sans-serif;
    text-align: left;
    font-weight: normal;
    font-style: normal; /* needed for uk.wikipedia */
}

.frb-in-article {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    padding: 16px 24px;
}

.frb-nag,
.frb-fixed {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    padding: 16px;
    background-color: #fff;
    border-bottom: 1px solid #c8ccd1;
    box-shadow: 0 1px 1px rgba(0,0,0,0.1);
}

.frb-layout {
    position: relative;
    display: table;
    width: 100%;
    padding: 0;
    max-width: 1200px;
    margin: 0 auto;
}

/* --- Icon buttons --- */

.frb .frb-icon-btn {
    display: block;
    cursor: pointer;
    background-repeat: no-repeat;
    background-position: center;
    opacity: .55;
}
.frb .frb-icon-btn:hover {
    opacity: 1;
}

.frb .frb-close {
    position: absolute;
    top: 16px;
    right: 16px;
    width: 16px;
    height: 16px;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 10 10' xmlns='http://www.w3.org/2000/svg'%3E%3Cg stroke='%23000' fill='none' stroke-linecap='round'%3E%3Cpath d='M1 1 l8 8 M9 1 l-8 8'%3E%3C/path%3E%3C/g%3E%3C/svg%3E");
}
body.rtl .frb .frb-close {
    right: auto;
    left: 0;
}

.frb .frb-back {
    position: absolute;
    top: 0;
    left: 0;
    width: 20px;
    height: 18px;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 16'%3E%3Cg fill='none' fill-rule='evenodd' transform='translate(1 1)'%3E%3Cpath stroke='%23000' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.778' d='M7.181 13.285L.753 7 7.181.715'%3E%3C/path%3E%3Crect fill='%23000' width='18.182' height='1.778' x='.818' y='6.111' rx='.889'%3E%3C/rect%3E%3C/g%3E%3C/svg%3E");
    background-size: 20px 13px;
}

/* --- RML Close button --- */

.close-rml {
    display: none;
}
.frb-nag .close-rml {
    text-align: center;
    margin: 0 auto;
    padding: 2px;
    font-size: 11px;
    line-height: 1;
    text-transform: uppercase;
    cursor: pointer;
    color: #54595d;
}
.frb-nag .close-rml:hover {
    color: #000;
}

.frb-rml-displayed .close-rml {
    display: block;
}

/* -------------- Message -------------- */

.frb-message {
    display: table-cell;
    width: auto;
    vertical-align: top;
    font-weight: normal;
    color: #000;
    font-size: 15px;
    line-height: 1.6; /*24px @15px*/
}

.frb-message-inner {
    position: relative;
    z-index: 1;
    background-color: #f8f9fa;
    border: 6px solid #900;
    padding: 12px 18px 14px;
}

@media all and (min-width: 1100px) {
    .frb-message-inner {
        padding: 15px 26px 19px;
    }
}

@media (min-width: 1100px) {
    .frb-message {
        font-size: 18px;
    }
    html[lang="en"] .frb-message { font-size: 19px; }
}

@media (min-width: 1300px) {
    .frb-message { font-size: 20px; }
    html[lang="en"] .frb-message { font-size: 21px; }
}

@media (min-width: 1500px) {
    .frb-message { font-size: 21px; }
    html[lang="en"] .frb-message { font-size: 22px; }
}

@media (min-width: 1700px) {
    .frb-message { font-size: 22px; }
    html[lang="en"] .frb-message { font-size: 23px; }
}

.frb-message-icon {
    margin-top: 4px; /*in px since margin is consistent on all bp*/
    margin-right: 2px;
    height: 24px;
    width: 24px;
    display: inline-block;
    margin-right: 16px;
}

.frb-nag .frb-message-icon {
    margin-top: 3px;
}

@media all and (min-width: 1300px) {
    .frb-nag .frb-message-icon {
        margin-top: 4px;
    }
}

body.rtl .frb-message-icon {
  float: right;
  margin-left: 2px;
}

.frb-message p {
    margin: 0;
}

.frb-greeting {
    font-family: Georgia;
    display: inline-block;
    margin-bottom: 0.5em;
    font-size: 34px;
}

.frb-highlight {
    border-bottom: 3px solid #900;
    padding-bottom: 2px;
}

/* Nag styles */

.frb-nag {
    cursor: pointer;
}

.frb-nag .frb-message {
    vertical-align: middle;
}

.frb-nag .frb-message-inner {
    padding: 12px 18px;
    font-size: 14px;
}

@media (min-width: 1100px) {
    .frb-nag .frb-message-inner {
        font-size: 16px;
    }
}

@media (min-width: 1400px) {
    .frb-nag .frb-message-inner {
        padding: 16px 26px;
        font-size: inherit;
    }
}

.frb-nag .frb-form-wrapper {
    padding: 0 16px;
    width: 360px;
    overflow: visible;
    vertical-align: middle;
}

@media all and (min-width: 1200px) {
    .frb-nag .frb-form-wrapper {
        width: 440px;
    }
}

/*Triangle*/
.frb-nag .frb-message-inner:before {
    position: absolute;
    top: 50%;
    right: -26px;
    content: " ";
    margin: -10px 0 0 0;
    border: 10px solid transparent;
    border-left-color: #900;
    pointer-events: none;
}

/* -------------- Form -------------- */

.frb-form-wrapper {
    vertical-align: top;
    display: table-cell;
    position: relative;
    width: 320px;
    height: 100%;
    vertical-align: top;
    background: #fff;
}

/*Triangle in article and fixed expanded state*/

.frb-triangle:before {
    content: " ";
    position: absolute;
    top: 50%;
    left: -25px;
    margin-top: -13px;
    content: " ";
    border: 10px solid transparent;
    border-left-color: #900;
    pointer-events: none;
}

.frb-form-wrapper fieldset {
    border: 0;
    margin: 0 auto;
    padding: 0 0 6px 0;
}

.frb-form-wrapper .frb-amounts {
    padding: 0;
    margin-top: 8px;
}

.frb-form-wrapper legend,
.frb-rml-form-legend {
    display: block;
    margin: 0 0 2px;
    padding: 0 4px;
    font-weight: normal;
    text-align: left;
    font-size: 14px;
    line-height: 1.2142857143; /*17px @14px*/
    color: #54595d;
    transition: all .25s ease-in-out;
}

.frb-form-wrapper {
    counter-reset: count;
}
.frb-numbered {
    counter-increment: count;
}
.frb-numbered::before {
    content: counter(count) ". ";
}

.frb-rml-form-legend {
    padding: 0 0 2px;
}

.frb-frequency legend,
.frb-amounts legend {
    padding: 0 5px;
}

.frb-form-wrapper fieldset:first-of-type legend {
    padding-top: 0;
}

.frb-form-wrapper ul {
    display: table;
    table-layout: fixed;
    width: 100%;
    margin: 0;
    padding: 0;
    list-style: none;
}

.frb-form-wrapper li {
    display: table-cell;
    vertical-align: top;
}

.frb-form-wrapper .frb-methods li {
    padding: 4px !important;
}

#frb-form {
    padding-left: 25px;
    position: relative;
    overflow: hidden;
}

/* --- Common Button Styles --- */

/* Hide radio buttons */
.frb-form-wrapper .frb-methods input[type="radio"],
.frb-form-wrapper .frb-optin input[type="radio"],
.frb-form-wrapper input[type="checkbox"] {
    position: absolute;
    overflow: hidden;
    height: 1px;
    width: 1px;
    clip: rect(0 0 0 0);
    border: 0;
    margin: -1px;
    padding: 0;
}

.frb-btn {
    width: 100%;
    height: 48px;
    display: block;
    background-color: #f8f9fa;
    color: #000;
    font-size: 16px;
    line-height: 1.25; /*20px @16px*/
    padding: 13px 4px 15px 4px;
    border: 1px solid #9aa0a7;
    border-radius: 2px;
    outline: 0;
    text-align: center;
    cursor: pointer;
    font-family: inherit;
    font-weight: 500;
    -webkit-transition: all .25s ease-in-out;
    -moz-transition:    all .25s ease-in-out;
    transition:         all .25s ease-in-out;
}
.frb-btn:hover {
    background-color: #fff;
    color: #444;
    border-color: #a2a9b1;
}
.frb-btn:active {
    background-color: #d9d9d9;
    color: #000;
    border-color: #7d8389;
}
.frb-form-wrapper input[type=radio]:checked + .frb-btn {
    background-color: #2a4b8d;
    color: #fff;
    border-color: #7d8389;
}

.frb-rml-link {
    display: block;
    font-size: 16px;
    line-height: 1.125; /*18px @16px*/
    color: #36c;
    margin: 16px auto 0;
    text-align: center;
    font-weight: bold;
}

.frb-rml-link:hover,
.frb-rml-link:focus {
    color: #447ff5;
}

.frb-radio,
.frb-radio-label {
    font-size: 16px;
    line-height: 1.375; /*22px @16px*/
}

.frb-radio {
    cursor: pointer;
    float: left;
    height: 14px;
    margin: 7px 5px 0px 7px;
}

body.rtl .frb-radio {
    float: right;
}

.frb-radio-label {
    display: block;
    padding: 3px 2px;
    cursor: pointer;
    white-space: nowrap;
    font-weight: bold;
}

body.rtl .frb-radio-label {
    text-align: right;
}

@media all and (min-width: 1900px) {
    .frb-radio-label {
        padding: 2px;
    }
}

.frb-frequency .frb-radio-label {
    font-size: 16px;
    line-height: 1.375; /*22px @16px*/
}

/* Focus styles */

/*Outline reset*/
.frb-form-wrapper input[type=radio]:focus,
.frb-radio:focus + .frb-radio-label,
#frb-amt-other-input:focus,
#frb-rml-email:focus {
    outline: 0;
}

.frb button:focus,
.frb-btn:focus,
.frb-icon-btn:focus,
.frb-btn-submit:focus,
.frb-form-wrapper input[type=radio]:focus + .frb-btn,
.frb-form-wrapper input[type=radio]:focus + #frb-amt-other-label,
#frb-amt-other-input:focus,
.frb-rml-displayed .frb-rml-form input:focus,
.frb-nag-btn:focus,
#nag-rml-btn:focus {
    outline: 0;
    border-color: #36c !important;
    box-shadow: inset 0 0 0 2px #36c;
}

.frb button.frb-submit:focus {
    box-shadow: inset 0 0 0 1px #447ff5, inset 0 0 0 2px #fff;
}

.frb-rml-displayed .frb-rml-form input:focus,
.frb-rml-displayed .frb-rml-form .frb-btn-submit:focus {
    position: relative;
}

.frb-radio:focus + .frb-radio-label,
.frb-radio:hover + .frb-radio-label {
    color: #36c;
    text-decoration: underline;
}

#frb-amt-other-input:focus,
#frb-amt-other-input:hover {
    border-color: #36c !important;
    box-shadow: none;
    color: #36c;
}

.frb-form-wrapper input[type=radio]:focus + .frb-btn,
.frb-form-wrapper input[type=radio]:focus + #frb-amt-other-label,
.frb-form-wrapper input[type=radio]:checked + .frb-btn:focus,
.frb-form-wrapper input[type=radio]:checked + #frb-amt-other-label:focus,
.frb-form-wrapper .frb-btn-submit:focus,
#nag-yes-btn:focus {
    box-shadow: inset 0 0 0 1px #36c, inset 0 0 0 2px #fff;
}

.frb-btn img {
    padding: 0 4px;
    max-width: 100%;
    max-height: 20px; /*must equal font line height of frb-btn*/
}

.frb-methods .frb-btn {
    height: 64px;
    line-height: 1.125; /*18px @16px*/
}

.frb-methods svg {
    max-width: 100%;
    width: 64px;
}

/*Slight adaption for Paypal logo with USD string*/
.frb-methods .frb-logo-payments--paypal-usd {
    width: 85px;
    margin-bottom: -6px;
}

/* Credit card logos */

/* Countries with 4 card types */
.frb-cc-logo-wrapper {
    display: block;
    margin: 0 auto;
    max-width: 89px;
}

.frb-pm-cc svg {
    width: 26px;
    max-height: 15px; /*height needed for IE11*/
    margin: 2px;
    display: none;
}

/* Countries with 3 card types */
.frb-cctypes-vma .frb-cc-logo-wrapper {
    width: 100%;
}
.frb-cctypes-vma svg  {
    width: 28%;
    max-height: 34px;
}

.frb-cc-logo-wrapper {
    display: none;
    font-size: 0; /* Remove spacing between icons */
}

.frb-cctypes-vmad .frb-cc-logo-wrapper,
.frb-cctypes-vmaj .frb-cc-logo-wrapper,
.frb-cctypes-vma  .frb-cc-logo-wrapper,
.frb-cctypes-vm   .frb-cc-logo-wrapper {
    display: block;
}

.frb-cctypes-vmad .frb-pm-cc-label,
.frb-cctypes-vmaj .frb-pm-cc-label,
.frb-cctypes-vma  .frb-pm-cc-label,
.frb-cctypes-vm   .frb-pm-cc-label {
    display: none;
}

.frb-cctypes-vmad .frb-cc-logo-visa,
.frb-cctypes-vmad .frb-cc-logo-mastercard,
.frb-cctypes-vmad .frb-cc-logo-amex,
.frb-cctypes-vmad .frb-cc-logo-discover,

.frb-cctypes-vmaj .frb-cc-logo-visa,
.frb-cctypes-vmaj .frb-cc-logo-mastercard,
.frb-cctypes-vmaj .frb-cc-logo-amex,
.frb-cctypes-vmaj .frb-cc-logo-jcb,

.frb-cctypes-vma  .frb-cc-logo-visa,
.frb-cctypes-vma  .frb-cc-logo-mastercard,
.frb-cctypes-vma  .frb-cc-logo-amex,

.frb-cctypes-vm   .frb-cc-logo-visa,
.frb-cctypes-vm   .frb-cc-logo-mastercard {
    display: inline-block;
}

/* Blue text buttons */
.frb-btn.frb-btn-btxt {
    color: #36c;
}
.frb-btn.frb-btn-btxt:active {
    color: #2a4b8d;
}

/* Submit/Continue buttons (blue background) */
.frb .frb-btn-submit {
    width: 100%;
    display: block;
    margin-top: 6px;
    padding: 8px;
    color: #fff;
    background-color: #36c;
    border-color: #36c;
    cursor: pointer;
    border: 0;
    border-radius: 2px;
    font-size: 16px;
    font-weight: bold;
    -webkit-transition: all .25s ease-in-out;
    -moz-transition:    all .25s ease-in-out;
    transition:         all .25s ease-in-out;
}
.frb .frb-btn-submit:hover {
    background-color: #447ff5;
    border-color: #447ff5;
}
.frb .frb-btn-submit:active {
    background-color: #2a4b8d;
    border-color: #2a4b8d;
    box-shadow: none;
}

/* --- Other Amount --- */

#frb-amt-other-input::-webkit-input-placeholder {
    color: #000;
}
#frb-amt-other-input::-moz-placeholder {
    opacity: 1;
    color: #000;
}
#frb-amt-other-input:-ms-input-placeholder {
    color: #000;
}
#frb-amt-other-input:-moz-placeholder {
    opacity: 1;
    color: #000;
}

#frb-amt-other-input:focus::-webkit-input-placeholder {
    color: #666;
}
#frb-amt-other-input:focus::-moz-placeholder {
    opacity: 1;
    color: #666;
}
#frb-amt-other-input:focus:-ms-input-placeholder {
    color: #666;
}
#frb-amt-other-input:focus:-moz-placeholder {
    opacity: 1;
    color: #666;
}

#frb-amt-other-input:hover::-webkit-input-placeholder {
    color: #36c;
}
#frb-amt-other-input:hover::-moz-placeholder {
    opacity: 1;
    color: #36c;
}
#frb-amt-other-input:hover:-ms-input-placeholder {
    color: #36c;
}
#frb-amt-other-input:hover:-moz-placeholder {
    opacity: 1;
    color: #36c;
}

.frb-amt-other-label {
    display: none;
}

.frb-amt-other {
    width: 66.666666%;
}

#frb-amt-other-input {
    width: calc(100% - 33px);
    border: none;
    border-bottom: 1px solid #000;
    color: #000;
    font-size: 16px;
    font-weight: normal;
    padding: 5px 2px 7px 0;
    border-radius: 0;
    direction: ltr;
    text-align: left;
    font-family: inherit;
    font-weight: bold;
}

@media all and (min-width: 1280px) {
    .frb-amt-other #frb-amt-other-input {
        margin: 0;
    }
}

body.rtl #frb-amt-other-input {
    text-align: right;
}

/* --- Transaction fees options --- */

/*Checkbox styles*/
.frb-checkbox {
    cursor: pointer;
    float: left;
    width: 16px;
    height: 16px;
    padding: 0;
    margin: 13px 4px 0 6px;
    display: inline-block;
}

.frb-checkbox-label::before {
    left: 0;
    display: inline-block;
    content: "";
    height: 17px;
    width: 17px;
    border-radius: 2px;
    border: 1px solid #a2a9b1;
    background-color: #f8f9fa;
}

.frb-checkbox-label::after {
    content: "";
    top: 8px;
    left: 4px;
    display: inline-block;
    height: 5px;
    width: 9px;
    border-left: 2px solid;
    border-bottom: 2px solid;
    transform: rotate(-45deg);
    border-color: #fff;
}

.frb-checkbox-label {
    position: relative;
    display: inline-block;
    margin: 13px 0 0 5px;
    width: calc(100% - 10px);
    padding-left: 26px;
    padding-top: 2px;
    cursor: pointer;
    font-size: 14px;
    line-height: 1.3571428571; /*19px @14px*/
    color: #000;
}

.frb-checkbox-label::before,
.frb-checkbox-label::after {
    position: absolute;
}
/*Outer-box*/
.frb-checkbox-label::before {
    top: 3px;
}
/*Checkmark*/
.frb-checkbox-label::after {
    left: 4px;
    top: 8px;
}

body.rtl .frb-checkbox {
    float: right;
}

.frb-ptf-total {
    font-weight: bold;
}

/*Hide the checkmark by default*/
.frb-checkbox + .frb-checkbox-label::after {
    content: none;
}
/*Unhide the checkmark on the checked state*/
.frb-checkbox:checked + .frb-checkbox-label::after {
    content: "";
}

.frb-checkbox:checked + .frb-checkbox-label:before {
    background-color: #36c;
    border-color: #36c;
}

/*Focus styles*/
/*Unchecked*/
.frb-checkbox:focus + .frb-checkbox-label::before {
    border-color: #36c;
    box-shadow: inset 0 0 0 1px #36c;
}

/*Checked*/
.frb-checkbox:focus:checked + .frb-checkbox-label::before {
    box-shadow: inset 0 0 0 1px #36c, inset 0 0 0 2px #fff;
}

/*Hover*/
.frb-checkbox:hover + .frb-checkbox-label::before {
    background-color: #eaecf0;
}

.frb-checkbox:checked:hover + .frb-checkbox-label:before {
    background-color: #447ff5;
    border-color: #447ff5;
}

/* --- Email opt-in --- */

.frb-form-wrapper .frb-optin {
    margin-bottom: 3px;
}

.frb-form-wrapper .frb-optin legend {
    margin-bottom: 8px;
    display: inline-block;
}

/* .frb-form-wrapper .frb-optin li {
    display: block;
    clear: both;
} */

.frb-optin .frb-radio {
    margin: 6px 5px 0px 9px;
}

.frb-optin .frb-radio-label {
    float: right;
    width: calc(100% - 30px);
    white-space: normal;
    font-size: 14px;
    line-height: 1.3571428571; /*19px @14px*/
    font-weight: bold;
}

.frb-optin .frb-radio-label:hover,
.frb-optin .frb-radio:hover + .frb-radio-label {
    text-decoration: none;
}

.frb-optin-prompt {
    display: none;
    margin: 8px;
    padding: 4px 8px;
    border: 2px solid #900;
    border-radius: 2px;
    font-size: 14px;
    line-height: 1.2857142857; /*18px @14px*/
    font-weight: normal;
}

.frb-optin-prompt.is-positive {
    border-color: #14866d;
    font-weight: bold;
}

.frb-optin-prompt__yes {
    display: none;
}

.frb-optin-prompt__no {
    display: block;
}

.frb-optin-prompt.is-positive .frb-optin-prompt__yes {
    display: block;
}

.frb-optin-prompt.is-positive .frb-optin-prompt__no {
    display: none;
}

.frb-optin-smallprint {
    padding: 8px 8px 0 8px;
}

/* --- Payment method Buttons --- */

/* Hide methods which aren't monthly capable when monthly option is selected */
.form-monthly .no-monthly {
    opacity: 0.4 !important;
}

.form-monthly .no-monthly .frb-label {
    cursor: default;
}

.frb-form-wrapper .frb-methods {
    margin-top: 12px;
    padding-bottom: 0;
}

@media all and (min-width: 1100px) {
    .frb-form-wrapper .frb-methods {
        margin-top: 15px;
    }
}

@media all and (min-width: 1700px) {
    .frb-form-wrapper .frb-methods {
        margin-top: 8px;
    }
}

/* Only where there are 4 methods, display 2x2 */
.frb-methods ul li:first-child:nth-last-child(4),
.frb-methods ul li:first-child:nth-last-child(4) ~ li {
    float: left;
    width: 50%;
}
.frb-methods ul li:first-child:nth-last-child(4) .frb-btn,
.frb-methods ul li:first-child:nth-last-child(4) ~ li .frb-btn {
    height: 48px;
    padding: 13px 4px 15px 4px;
}

/* --- Footer / Small Print --- */
.frb-smallprint {
    font-size: 12px;
    line-height: 1.5; /*18px @12px*/
    color: #54595d;
    font-weight: normal;
}
.frb-smallprint a {
    color: #54595d;
    text-decoration: underline;
}
.frb-smallprint a:hover {
    color: #000;
}

.frb-footer {
    padding-top: 8px;
}

/* --- Show and Hiding (Minimize and Maximize) --- */

.frb-nag-btns {
    display: flex;
}

.frb.frb-rml-displayed .frb-nag-btns {
    display: none;
}

button.frb-nag-btn {
    flex: 1 0 0;
    margin: 0 8px;
    padding: 6px;
    min-height: 48px;
    background-color: white;
    border: 1px solid #9aa0a7;
    border-radius: 2px;
    outline: 0;
    color: #000;
    cursor: pointer;
    font-weight: normal;
    font-size: 13px;
    line-height: 1.3;
    transition: all 100ms;
}

@media all and (min-width: 1100px) {
    button.frb-nag-btn {
        font-size: 14px;
    }
}

@media all and (min-width: 1200px) {
    button.frb-nag-btn {
        font-size: 16px;
    }
}

button.frb-nag-btn:hover {
    -moz-transform: scale(1.043478);
    -ms-transform: scale(1.043478);
    -webkit-transform: scale(1.043478);
    transform: scale(1.043478);
}

#nag-yes-btn {
    font-weight: bold;
    background-color: #36c;
    border: 1px solid #36c;
    color: white;
}

/* --- Maybe later --- */

.frb-rml-disabled .frb-rml,
.frb-rml-disabled .frb-rml-link,
.frb-rml-disabled #nag-rml-btn {
    display: none;
}

.frb-rml-form {
    display: none;
    position: absolute;
    margin-top: 12px;
    margin-left: 12px;
    width: calc(100% - 12px);
    padding: 16px;
    text-align: left;
    background: #fff;
    border: 1px solid #c8ccd1;
    border-radius: 2px;
    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.15);
    z-index: 10;
}

.frb-rml-form:after,
.frb-rml-form:before {
    bottom: 100%;
    left: 50%;
    border: solid transparent;
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.frb-rml-form:after {
    border-bottom-color: #fff;
    border-width: 10px;
    margin-left: -10px;
}

.frb-rml-form:before {
    border-bottom-color: #c8ccd1;
    border-width: 11px;
    margin-left: -11px;
}

.frb-rml-form input {
    width: 100%;
    padding: 6px 8px 7px;
    border: 1px solid #a2a9b1;
    border-radius: 2px;
    color: #000;
    font-size: 14px;
}

#frb-rml-email.frb-haserror {
    border-color: #d33 !important;
    box-shadow: inset 0 0 0 1px #d33 !important;
}

.frb-error-invalidemail {
    margin: 2px 0 0 !important;
}

.frb-rml-ty {
    text-align: center;
    margin: 16px 16px 0 25px;
}

.frb-rml-displayed .frb-rml-form {
    position: relative;
    z-index: 10;
    display: table !important;
    margin: -4px auto 0;
    padding: 0 12px;
    width: 100%;
    max-width: 340px;
    background: transparent;
    border: none;
    box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);
}

.frb-rml-displayed .frb-rml-form:after,
.frb-rml-displayed .frb-rml-form:before {
    display: none !important;
}

.frb-rml-displayed .frb-rml {
    display: block !important;
    margin-top: 0;
}

.frb-rml-displayed .frb-rml-form legend {
   font-size: 12px;
   line-height: 1; /*12px @12px*/
   padding-bottom: 4px;
}

@media all and (min-width: 1200px) {
    .frb-rml-displayed .frb-rml-form legend {
       font-size: 14px;
       line-height: 1.2142857143; /*17px @14px*/
    }
}

.frb-rml-displayed .frb-rml-form input {
    display: inline;
    vertical-align: middle;
    width: 200px;
    height: 32px;
    padding: 7px 8px;
    margin: 0;
    border: 1px solid #a2a9b1;
    border-radius: 2px;
    color: #000;
    direction: ltr;
    line-height: 1;
}

.frb-rml-displayed .frb-rml-form .frb-btn-submit {
    display: inline;
    vertical-align: middle;
    width: auto;
    height: 32px;
    margin-top: 0;
    margin-left: 2px;
    line-height: 1;
    padding: 9px 14px;
    font-size: 14px;
    border-radius: 2px;
}

.frb-prevent-page-jump {
    display: none;
}

/* -- Submit/"Donate now" button -- */

.frb .frb-submit {
    height: 52px;
    display: inline-block;
    cursor: default;
    margin: 4px 5px 0;
    padding: 3px 6px 5px;
    width: calc(100% - 9px);
    background-color: #f8f9fa;
    border: 1px solid #a2a9b1;
    border-radius: 2px;
    color: #36c;
    font-weight: bold;
    transition: background-color 0.5s ease;
    opacity: .5;
}

.frb .frb-submit.active {
    background-color: #36c;
    border-color: #36c;
    color: #fff;
    cursor: pointer;
    opacity: 1;
}

.frb .frb-submit.active:hover {
    background-color: #447ff5;
    border-color: #447ff5;
}

.frb-submit-amount {
    display: none;
}
.frb-submit-label-monthly {
    display: none;
}
.frb-submit-label-now {
    display: inline;
}
.form-monthly .frb-submit-label-monthly {
    display: inline;
}
.form-monthly .frb-submit-label-now {
    display: none;
}
.frb-icon-lock {
    fill: #fff;
    width: 14px;
    height: 14px;
}

.frb-payment-options {
    display: table;
    table-layout: fixed;
    width: 100%;
}

.frb-payment-options .frb-button {
    width: 100%;
}

/* For 4 payment options, 2 rows of 2 */
.frb-payment-options .frb-button:first-child:nth-last-child(4),
.frb-payment-options .frb-button:first-child:nth-last-child(4) ~ .frb-button {
    float: left;
    width: 50%;
}

.frb-methods .frb-button,
.frb-optin .frb-button {
    display: table-cell;
    padding: 5px;
    float: none;
    vertical-align: top;
}

.frb-button-table {
    display: table;
    width: 100%;
}

.frb-label {
    display: table-cell; /* To vertical align content */
    vertical-align: middle;
    width: 100%;
    height: 52px;
    color: #36c;
    background-color: #f8f9fa;
    border-radius: 2px;
    border: 1px solid #a2a9b1;
    text-align: center;
    transition: background-color 0.5s ease;
    cursor: pointer;
    transition: all 0.5s ease;
    padding: 0 10px;
}

.frb-label:hover,
.frb-rml-email:hover {
    background-color: #eaf3ff;
}

.form-monthly .no-monthly .frb-label:hover {
    background-color: #f8f9fa;
}

.frb-radio:checked + .frb-label {
    background-color: #2a4b8d;
    border-color: #2a4b8d;
    color: #fff;
    font-weight: bold;
}

.frb-radio:focus + .frb-label,
#frb-rml-email:focus {
    box-shadow: inset 0 0 0 1px #36c;
    border-color: #36c;
}

.frb-radio:focus:checked + .frb-label {
    box-shadow: inset 0 0 0 1px #2a4b8d, inset 0 0 0 2px #fff;
}

.frb-radio:checked + .frb-label .frb-logo-payments--paypal path,
.frb-radio:checked + .frb-label .frb-logo-payments--paypal-usd path,
.frb-radio:checked + .frb-label .frb-logo-payments--amazon path {
    fill: #fff;
}

/* Error messages */
.frb-error {
    display: none;
    margin: 5px 0 5px 5px;
    font-size: 14px;
    font-weight: 500;
    line-height: 1.3;
    color: #d33;
}

.frb-form-wrapper fieldset.frb-haserror .error-highlight {
    color: #d33;
    font-weight: bold;
}

/* STEP 2 UPSELL*/

.frb-upsell,
.frb-step-monthly-diff-amt .frb-amt-monthly {
    width: calc(100% + 8px) !important;
    transition: background-color 0.5s ease;
    padding: 10px 4px;
    text-align: center;
}

.frb-step-monthly-diff-amt .frb-amt-monthly {
    display: block;
    padding: 0 4px 10px 4px;
}

.frb-upsell-cta,
.frb-upsell-ty {
    font-size: 17px;
    line-height: 1.3;
    font-weight: bold;
    text-align: center;
}

.frb-upsell-color,
.frb-step-monthly-diff-amt .frb-amt-monthly label {
    display: block;
    font-size: 15px;
    line-height: 1.3;
    font-weight: normal;
    padding: 0 5%;
    margin: .5em 0;
}

.frb .frb-monthly-diff-amt-link {
    font-size: 15px;
    line-height: 1.3;
    color: #36c;
    margin: 8px 2px;
    padding: 12px 10%;
    text-align: center;
    cursor: pointer;
    font-weight: bold;
}

#frb-amt-monthly-other-input {
    position: relative;
    text-align: center;
    font-size: 18px;
}

/* steps */
#frb-form .frb-step {
    position: absolute;
    top: 0;
    width: 280px;
    padding-top: 24px;
    margin-left: 320px;
    visibility: hidden; /* Prevent tabbing to inputs */
}

#frb-form .frb-step-1 {
    position: relative;
    margin-left: 0;
    visibility: visible;
}

/* Frb buttons */
.frb-message__buttons {
    margin-top: 24px;
}
.frb-button {
    font-family: Arial;
    font-size: 14px;
}
.frb-button--icon {
    margin-left: 12.5px;
    vertical-align: middle;
}
.frb-button--filled {
    color: white;
    border-radius: 3px;
    border: solid 1px #2d59b3;
    background-color: #3366cc;
    padding: 7px 18px;
    font-weight: bold;
    transition: background-color 0.5s ease;
    display: inline-block;
    vertical-align: middle;
    height: 40px;
}
.frb-button--filled:active,
.frb-button--filled:visited {
    color: white;
}
.frb-button--filled:hover {
    background-color: #447ff5;
}
.frb-button--filled:hover,
.frb-button--filled:focus {
    text-decoration: none;
}
.frb-button__span {
    vertical-align: middle;
}
.frb-message__cards {
    display: inline-block;
    vertical-align: middle;
    margin-left: 11px;
    width: 400px;
    height: 40px;
}



/* Responsive */
@media (max-width: 710px) {
    .frb-message__cards {
        display: block;
        margin-top: 12px;
        margin-left: 0;
    }
}

</style>

<div class="frb-prevent-page-jump"></div>

<div class="frb frb-in-article" id="frb-main" style="display: none;"><!-- hidden by default until have checked the cookies -->

    <div class="frb-layout">

        <div class="frb-message">
            <div class="frb-message-inner">
                <button class="frb-icon-btn frb-close" aria-label="{{{FR2015_translations,close}}}"></button>
                <div class="frb-message__title">
                    <svg class="frb-message-icon" role="img" aria-labelledby="frb-message-icon-title" width="25" height="25" viewBox="0 0 25 25" xmlns="http://www.w3.org/2000/svg"><title id="frb-message-icon-title">Info icon</title><g fill-rule="nonzero" fill="none"><circle fill="#900" cx="10.492" cy="14.492" r="10.492"></circle><path d="M12.681 11.754l-2.267 7.864c-.125.45-.188.745-.188.885 0 .08.033.156.1.226.066.07.136.105.21.105.125 0 .25-.055.376-.165.332-.273.73-.767 1.194-1.482l.376.22c-1.113 1.94-2.296 2.91-3.55 2.91-.48 0-.86-.135-1.144-.404a1.349 1.349 0 0 1-.426-1.023c0-.273.062-.62.188-1.04l1.537-5.286c.147-.51.221-.892.221-1.15a.566.566 0 0 0-.21-.432c-.14-.125-.332-.188-.575-.188-.11 0-.243.004-.398.011l.144-.442 3.749-.609h.663zm-.685-5.087c.457 0 .842.159 1.156.475.313.318.47.701.47 1.15 0 .45-.16.834-.476 1.15-.317.318-.7.476-1.15.476-.443 0-.822-.158-1.14-.475a1.566 1.566 0 0 1-.475-1.15c0-.45.157-.833.47-1.15a1.549 1.549 0 0 1 1.145-.476z" fill="#FFF"></path></g></svg>
                    <span class="frb-greeting">
                        {{{FR2015_translations,dsk-lg-greeting}}}
                    </span>
                </div>
                

               <p class="frb-message__p frb-message__maximized">
                    It's a little awkward, so we'll get straight to the point: This <span class="frb-replace-dayofweek"></span> we humbly ask you to defend Wikipedia's independence. We depend on donations averaging about %AVERAGE%, but 99% of our readers don't give. <span class="frb-highlight">If everyone reading this gave %MINIMUM%, we could keep Wikipedia thriving for years to come.</span> The price of your <span class="frb-replace-dayofweek"></span> coffee is all we need. We know that most people will ignore this message. But if Wikipedia is useful to you, please take a minute to help keep it growing. Thank you.
                </p>
                <div class="frb-message__buttons">
                    <a class="frb-button frb-button--filled frb-button__icanhelp" href="#">
                        <span class="frb-button__span">Support Wikipedia</span>
                        <svg class="frb-button--icon" xmlns="http://www.w3.org/2000/svg" width="18" height="13" viewBox="0 0 18 13">
                            <path fill="#FFF" fill-rule="nonzero" d="M17.758 6.746l-5.36-5.68a1.035 1.035 0 0 0-.981-.308c-.36.078-.648.34-.756.686a.984.984 0 0 0 .237.982l3.135 3.32H1.301a1.019 1.019 0 0 0-.895.496.974.974 0 0 0 0 1.008c.185.313.526.502.895.496h12.732l-3.135 3.32a.984.984 0 0 0-.237.983c.108.346.397.608.756.686.36.078.735-.041.98-.309l5.361-5.68z"></path>
                        </svg>

                    </a>
                    <svg class="frb-message__cards" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="284" height="28" viewBox="0 0 284 28">
                        <defs>
                            <path id="a" d="M15.172 6.578c-.017-1.317 1.174-2.053 2.071-2.49.922-.449 1.232-.736 1.228-1.137-.007-.614-.735-.885-1.417-.896-1.19-.018-1.88.321-2.43.578L14.195.628c.552-.254 1.573-.476 2.632-.485 2.486 0 4.112 1.227 4.121 3.13.01 2.414-3.34 2.548-3.317 3.627.008.328.32.677 1.005.766.338.044 1.273.079 2.333-.41l.416 1.94a6.344 6.344 0 0 1-2.214.407c-2.34 0-3.986-1.244-4-3.025m10.212 2.857c-.453 0-.836-.264-1.007-.67l-3.55-8.48h2.483l.495 1.366h3.035l.287-1.366h2.19l-1.911 9.15h-2.022m.348-2.471l.717-3.436h-1.964l1.247 3.436M12.16 9.435L10.202.285h2.367l1.957 9.15H12.16m-3.502 0L6.194 3.207l-.997 5.296c-.117.591-.579.932-1.091.932H.078L.02 9.17c.827-.18 1.767-.47 2.336-.779.348-.189.448-.354.562-.804L4.807.285h2.501l3.836 9.15H8.658"></path>
                        </defs>
                        <g fill="none" fill-rule="evenodd">
                            <g fill-rule="nonzero">
                                <path fill="#333E47" d="M196.147 0h36.888c1.186 0 2.147.96 2.147 2.147V25.31c0 1.186-.96 2.146-2.147 2.146h-36.888A2.146 2.146 0 0 1 194 25.31V2.14c0-1.18.96-2.141 2.147-2.141z"></path>
                                <path fill="#F79C34" d="M218.212 12.2c-1.746 1.29-4.283 1.976-6.462 1.976-3.058 0-5.814-1.131-7.895-3.009-.165-.148-.017-.351.181-.23 2.251 1.306 5.03 2.091 7.9 2.091 1.939 0 4.063-.4 6.023-1.23.297-.131.544.193.253.401z"></path>
                                <path fill="#F79C34" d="M218.936 11.37c-.225-.285-1.476-.132-2.042-.066-.17.022-.198-.131-.044-.236 1-.703 2.635-.5 2.828-.263.192.236-.05 1.883-.989 2.662-.142.121-.28.055-.22-.104.22-.527.698-1.702.467-1.993z"></path>
                                <path fill="#FFF" d="M216.938 6.105V5.42c0-.104.077-.17.17-.17h3.064c.099 0 .175.071.175.17V6c0 .099-.082.225-.23.428l-1.587 2.267c.588-.016 1.208.072 1.746.374.12.066.154.17.16.269v.73c0 .099-.11.22-.226.154-.939-.489-2.19-.55-3.234.005-.11.055-.22-.055-.22-.159v-.692c0-.11 0-.302.116-.472l1.834-2.63h-1.598a.175.175 0 0 1-.17-.17zM205.776 10.365h-.933c-.088-.005-.16-.07-.165-.153V5.435c0-.093.083-.17.182-.17h.867c.093.006.165.071.17.16v.625h.017c.225-.604.653-.884 1.224-.884.582 0 .944.28 1.208.884.225-.604.741-.884 1.29-.884.395 0 .818.16 1.076.522.297.4.23.988.23 1.499V10.2c0 .093-.076.17-.18.17h-.934a.17.17 0 0 1-.164-.17V7.664c0-.203.016-.702-.028-.895-.066-.318-.28-.411-.549-.411a.62.62 0 0 0-.56.395c-.093.242-.088.642-.088.917v2.536c0 .094-.082.17-.181.17h-.933a.17.17 0 0 1-.165-.17V7.67c0-.533.088-1.318-.576-1.318-.67 0-.643.763-.643 1.318v2.536c.017.083-.066.16-.165.16zM222.994 6.138c-.687 0-.73.933-.73 1.52 0 .588-.011 1.83.724 1.83.72 0 .758-1.006.758-1.62 0-.401-.017-.884-.137-1.269-.116-.335-.324-.461-.615-.461zm-.011-.977c1.378 0 2.13 1.191 2.13 2.695 0 1.46-.83 2.62-2.13 2.62-1.356 0-2.092-1.187-2.092-2.663-.006-1.494.747-2.652 2.092-2.652zM226.903 10.365h-.928a.17.17 0 0 1-.165-.17V5.42a.175.175 0 0 1 .181-.154h.862c.083.006.149.06.165.132v.73h.017c.258-.653.625-.966 1.268-.966.417 0 .829.148 1.087.565.241.385.241 1.021.241 1.488v3.003c-.01.083-.087.148-.18.148h-.934a.171.171 0 0 1-.165-.148V7.62c0-.521.06-1.29-.582-1.29-.225 0-.434.148-.538.385-.132.29-.148.581-.148.905v2.575c0 .094-.077.17-.181.17zM216.153 9.493c-.17-.231-.351-.423-.351-.862V7.18c0-.615.043-1.18-.407-1.603-.346-.335-.922-.456-1.372-.467h-.066c-.873.011-1.84.346-2.042 1.428-.022.115.06.176.137.197l.906.1c.082-.006.142-.089.159-.17.077-.38.395-.56.752-.56.192 0 .406.07.522.24.131.193.115.456.115.676v.12c-.538.061-1.246.1-1.751.32-.582.252-.994.762-.994 1.52 0 .966.61 1.455 1.389 1.455.664 0 1.021-.154 1.537-.675.17.241.225.362.533.62.065.038.159.033.22-.022h.005c.186-.165.521-.461.713-.62.072-.06.06-.165-.005-.247zm-1.828-.418c-.149.264-.385.423-.648.423-.357 0-.566-.274-.566-.675 0-.79.714-.934 1.384-.934v.204c.005.356.01.658-.17.982zM203.954 9.493c-.17-.231-.352-.423-.352-.862V7.18c0-.615.044-1.18-.406-1.603-.346-.335-.922-.456-1.372-.467h-.066c-.873.011-1.84.346-2.043 1.428-.022.115.06.176.138.197l.9.1c.082-.006.143-.089.16-.17.076-.38.394-.56.751-.56.192 0 .407.07.522.24.132.193.115.456.115.676v.12c-.538.061-1.246.1-1.746.32-.582.252-.993.762-.993 1.52 0 .966.609 1.455 1.389 1.455.664 0 1.02-.154 1.537-.675.17.241.225.362.532.62a.2.2 0 0 0 .225-.022c.187-.165.522-.461.714-.62.066-.06.055-.165-.005-.247zm-1.834-.418c-.148.264-.384.423-.648.423-.357 0-.565-.274-.565-.675 0-.79.713-.934 1.383-.934v.204c.006.356.011.658-.17.982z"></path>
                                <g fill="#FFF">
                                    <path d="M225.146 22.636v-.351c0-.1.044-.17.154-.16.197.028.472.055.67.017.252-.05.439-.23.548-.483.149-.346.253-.632.313-.818l-1.938-4.799c-.033-.082-.044-.23.121-.23h.675c.132 0 .182.082.215.159l1.405 3.898 1.34-3.898c.027-.077.082-.16.214-.16h.637c.159 0 .148.149.12.231L227.7 20.99c-.247.659-.577 1.707-1.323 1.889-.374.098-.846.06-1.12-.05-.083-.038-.11-.126-.11-.192zM224.245 20.632a.16.16 0 0 1-.159.16h-.477a.181.181 0 0 1-.187-.16l-.044-.324c-.22.187-.489.346-.78.461-.565.22-1.207.253-1.756-.082-.401-.242-.604-.72-.604-1.208 0-.379.12-.757.378-1.026.346-.374.846-.56 1.455-.56.368 0 .89.043 1.274.164v-.653c0-.67-.28-.95-1.021-.95-.566 0-1 .082-1.598.275-.099.005-.148-.072-.148-.16v-.373c0-.088.077-.176.16-.203.427-.187 1.031-.308 1.68-.324.845 0 1.838.192 1.838 1.482l-.01 3.481zm-.922-.955v-.988c-.318-.088-.845-.127-1.054-.127-.324 0-.675.077-.862.275a.819.819 0 0 0-.203.56c0 .263.093.527.307.659.247.164.632.142.989.044.34-.094.664-.27.823-.423zM217.465 15.664c-.565 0-1.153.258-1.614.67l-.05-.352c-.016-.088-.082-.16-.186-.16h-.489a.16.16 0 0 0-.159.16v6.665c0 .088.071.16.16.16h.642a.16.16 0 0 0 .159-.16v-2.3c.4.362.933.57 1.499.57 1.34 0 2.13-1.158 2.13-2.607.005-1.35-.516-2.646-2.092-2.646zm.642 4.128c-.247.247-.527.313-.944.313-.373 0-.862-.198-1.23-.467v-2.723a2.17 2.17 0 0 1 1.274-.45c1.06 0 1.35.835 1.35 1.79 0 .637-.12 1.213-.45 1.537z"></path>
                                </g>
                            </g>
                            <g fill-rule="nonzero" transform="translate(51)">
                                <rect width="44.046" height="27.853" fill="#000" rx="3"></rect>
                                <path fill="#FFF" d="M12.3 25.527v-1.57a.913.913 0 0 0-.964-.99.97.97 0 0 0-.88.446.921.921 0 0 0-.826-.445.856.856 0 0 0-.754.366v-.306h-.515v2.504h.507v-1.439a.602.602 0 0 1 .634-.665c.36 0 .565.236.565.66v1.442h.508v-1.437a.604.604 0 0 1 .633-.665c.371 0 .57.236.57.66v1.442l.521-.003zm8.153-2.499h-.91v-.759h-.51v.759h-.524v.455h.523v1.186c0 .58.204.926.848.926.24 0 .476-.066.68-.194l-.157-.444a1.005 1.005 0 0 1-.481.14c-.262 0-.382-.167-.382-.418v-1.2h.91l.003-.451zm4.648-.063a.785.785 0 0 0-.68.367v-.304h-.498v2.504h.502V24.12c0-.413.2-.68.555-.68a.887.887 0 0 1 .34.063l.168-.474a1.164 1.164 0 0 0-.387-.068v.005zm-7.027.262a1.874 1.874 0 0 0-1.02-.262c-.633 0-1.02.299-1.02.785 0 .409.282.654.842.733l.262.037c.298.041.46.146.46.287 0 .194-.22.32-.591.32-.3.01-.593-.082-.832-.262l-.262.393c.319.217.697.33 1.083.324.723 0 1.123-.335 1.123-.811 0-.476-.306-.657-.848-.735l-.262-.037c-.235-.032-.445-.105-.445-.262 0-.157.2-.309.498-.309.275.004.546.078.785.215l.227-.416zm7.59 1.047a1.248 1.248 0 0 0 1.308 1.308c.326.017.648-.09.9-.298l-.262-.393a1.102 1.102 0 0 1-.654.225.853.853 0 0 1 0-1.698c.236.003.466.082.654.225l.262-.393a1.308 1.308 0 0 0-.9-.298 1.248 1.248 0 0 0-1.309 1.309v.013zm-3.523-1.309c-.733 0-1.238.524-1.238 1.309a1.233 1.233 0 0 0 1.275 1.308c.373.013.738-.112 1.025-.35l-.261-.372a1.193 1.193 0 0 1-.728.261.735.735 0 0 1-.756-.64h1.871v-.21c0-.785-.476-1.308-1.18-1.308l-.008.002zm0 .466a.639.639 0 0 1 .66.633h-1.343a.67.67 0 0 1 .69-.633h-.007zm-6.78.845v-1.248h-.503v.304a.992.992 0 0 0-.81-.367 1.315 1.315 0 0 0 0 2.63.992.992 0 0 0 .81-.366v.303h.503v-1.256zm-2.028 0a.785.785 0 0 1 .785-.848.853.853 0 0 1 0 1.699.785.785 0 0 1-.785-.848v-.003zm19.335-1.308a.785.785 0 0 0-.68.366v-.306h-.497v2.504h.502V24.12c0-.413.2-.68.555-.68a.887.887 0 0 1 .34.063l.168-.471a1.164 1.164 0 0 0-.388-.068v.005zm4.036 2.203a.262.262 0 0 1 .18.07.243.243 0 0 1-.081.403.246.246 0 0 1-.1.022.262.262 0 0 1-.235-.152.246.246 0 0 1 .055-.272.262.262 0 0 1 .081-.052.262.262 0 0 1 .1-.027v.008zm0 .442a.186.186 0 0 0 .136-.057.194.194 0 0 0 0-.262.194.194 0 0 0-.136-.057.194.194 0 0 0-.076.015.191.191 0 0 0-.063.042.194.194 0 0 0 0 .262c.018.018.04.032.063.042.024.008.05.012.076.01v.005zm.015-.31a.105.105 0 0 1 .068.02.065.065 0 0 1 .024.055.063.063 0 0 1-.018.047.092.092 0 0 1-.055.024l.075.086h-.06l-.07-.086h-.024v.086h-.05v-.23l.11-.003zm-.057.044v.062h.057c.01.003.021.003.032 0a.026.026 0 0 0 0-.023.026.026 0 0 0 0-.024.058.058 0 0 0-.032 0l-.057-.015zM30.74 24.28v-1.253h-.503v.304a.992.992 0 0 0-.81-.367 1.315 1.315 0 0 0 0 2.63.992.992 0 0 0 .81-.366v.303h.503v-1.25zm-2.028 0a.785.785 0 0 1 .785-.847.853.853 0 0 1 0 1.698.785.785 0 0 1-.785-.848v-.003zm7.084 0v-2.263h-.503v1.308a.992.992 0 0 0-.811-.366 1.315 1.315 0 1 0 0 2.63.992.992 0 0 0 .811-.366v.303h.503v-1.246zm-2.029 0a.785.785 0 0 1 .786-.847.853.853 0 0 1-.01 1.687.785.785 0 0 1-.786-.845l.01.005z"></path>
                                <path fill="#FF5F00" d="M17.902 3.962h8.243v14.814h-8.243z"></path>
                                <path fill="#EB001B" d="M18.425 11.37a9.405 9.405 0 0 1 3.598-7.406 9.42 9.42 0 1 0 0 14.814 9.405 9.405 0 0 1-3.598-7.408z"></path>
                                <path fill="#F79E1B" d="M36.374 17.208v-.303h.123v-.063h-.312v.063h.123v.303h.066zm.604 0v-.366h-.094l-.11.262-.11-.262h-.094v.366h.066v-.277l.102.238h.07l.102-.238v.277h.068zM37.266 11.37a9.42 9.42 0 0 1-15.243 7.406 9.42 9.42 0 0 0 0-14.814 9.42 9.42 0 0 1 15.243 7.405v.003z"></path>
                            </g>
                            <g fill-rule="nonzero">
                                <path fill="#E1E7EA" d="M187.2 24.267A3.744 3.744 0 0 1 183.467 28h-31.734A3.744 3.744 0 0 1 148 24.267V3.733A3.744 3.744 0 0 1 151.733 0h31.734a3.744 3.744 0 0 1 3.733 3.733v20.534z"></path>
                                <path fill="#FF6D00" d="M187.2 24.267A3.744 3.744 0 0 1 183.467 28h-23.334s22.027-3.547 27.067-14v10.267zM165.733 14c0 1.587 1.214 2.8 2.8 2.8 1.587 0 2.8-1.213 2.8-2.8 0-1.587-1.213-2.8-2.8-2.8-1.586 0-2.8 1.213-2.8 2.8z"></path>
                                <path fill="#000" d="M155.653 11.2h1.027v5.6h-1.027v-5.6zm5.6 2.8c0 1.587 1.214 2.8 2.8 2.8.467 0 .84-.093 1.307-.28v-1.213c-.373.373-.747.56-1.307.56-1.026 0-1.773-.747-1.773-1.867 0-1.027.747-1.867 1.773-1.867.467 0 .84.187 1.307.56V11.48c-.467-.187-.84-.373-1.307-.373-1.586.093-2.8 1.4-2.8 2.893zm12.507.84l-1.493-3.64h-1.12l2.333 5.6h.56l2.333-5.6h-1.12l-1.493 3.64zm3.08 1.96h2.987v-.933h-1.96v-1.494h1.866v-.933h-1.866v-1.307h1.96V11.2h-2.987v5.6zm7.093-3.92c0-1.027-.653-1.68-1.866-1.68h-1.587v5.6h1.027v-2.24h.093l1.493 2.24h1.307l-1.68-2.333c.747-.187 1.213-.747 1.213-1.587zm-2.146.933h-.28v-1.68h.28c.653 0 1.026.28 1.026.84 0 .467-.28.84-1.026.84zm-29.4-2.613H150.8v5.6h1.493c2.334 0 2.894-1.96 2.894-2.8.093-1.68-1.12-2.8-2.8-2.8zm-.28 4.667h-.28v-3.734h.373c1.4 0 1.96.934 1.96 1.867 0 .373-.093 1.867-2.053 1.867zm7.373-2.52c-.653-.28-.84-.374-.84-.654 0-.373.373-.56.747-.56.28 0 .56.094.84.467l.56-.747c-.467-.466-.934-.653-1.587-.653-.933 0-1.68.653-1.68 1.587 0 .746.373 1.12 1.307 1.493.56.187 1.026.373 1.026.84 0 .467-.373.747-.84.747-.466 0-.933-.28-1.12-.747l-.653.653c.467.747 1.027 1.027 1.867 1.027 1.12 0 1.866-.747 1.866-1.773 0-.84-.373-1.214-1.493-1.68z"></path>
                            </g>
                            <g fill-rule="nonzero">
                                <path fill="#1976D2" d="M141.2 24.267A3.733 3.733 0 0 1 137.467 28h-31.734A3.733 3.733 0 0 1 102 24.267V3.733A3.733 3.733 0 0 1 105.733 0h31.734a3.733 3.733 0 0 1 3.733 3.733v20.534z"></path>
                                <path fill="#FFF" d="M119.971 10.267L118 14.637l-1.963-4.37h-2.515v6.277l-2.803-6.277h-2.122l-2.863 6.515h1.694l.627-1.454h3.203l.636 1.454h3.234v-4.84l2.146 4.84h1.459l2.194-4.755v4.755h1.607v-6.515h-2.562zM108.66 13.92l.958-2.278.995 2.278h-1.953zm25.898-.469l2.91-3.169h-2.07l-1.86 2.02-1.801-2.036h-6.403v6.516h6.193l1.953-2.157 1.904 2.174h2.062l-2.888-3.348zm-3.878 1.963h-3.743v-1.289h3.582v-1.235h-3.582v-1.22l3.952.01 1.58 1.771-1.789 1.963z"></path>
                            </g>
                            <g>
                                <rect width="45" height="28" fill="#122D98" rx="3"></rect>
                                <use fill="#FFF" transform="matrix(1 0 0 -1 8 19)" xlink:href="#a"></use>
                            </g>
                            <g transform="translate(241)">
                                <rect width="42.5" height="27.5" x=".25" y=".25" fill="#FFF" stroke="#C9C9C9" stroke-width=".5" rx="3.111"></rect>
                                <g fill-rule="nonzero">
                                    <path fill="#139AD6" d="M26.246 17.015h-2.08c-.122 0-.245.123-.306.245l-.856 5.384c0 .122.06.183.183.183h1.101c.123 0 .184-.061.184-.183l.244-1.53c0-.122.123-.245.306-.245h.673c1.407 0 2.203-.673 2.386-2.018.123-.551 0-1.04-.245-1.346-.367-.306-.917-.49-1.59-.49m.245 2.02c-.123.733-.673.733-1.224.733H24.9l.245-1.407c0-.061.06-.122.183-.122h.123c.367 0 .734 0 .917.245.123.06.123.244.123.55"></path>
                                    <g fill="#263B80">
                                        <path d="M11.258 17.015h-2.08c-.123 0-.245.123-.306.245l-.857 5.384c0 .122.061.183.184.183h.979c.122 0 .244-.122.306-.245l.244-1.468c0-.122.123-.245.306-.245h.673c1.407 0 2.202-.673 2.386-2.018.122-.551 0-1.04-.245-1.346-.367-.306-.856-.49-1.59-.49m.244 2.02c-.122.733-.673.733-1.223.733h-.306l.245-1.407c0-.061.06-.122.183-.122h.123c.367 0 .734 0 .917.245.061.06.123.244.061.55M17.559 18.973h-.979c-.061 0-.184.061-.184.122l-.06.306-.062-.122c-.245-.306-.673-.428-1.162-.428-1.101 0-2.08.856-2.264 2.018a1.823 1.823 0 0 0 .367 1.53c.306.367.734.49 1.285.49.918 0 1.407-.551 1.407-.551l-.061.306c0 .122.061.183.183.183h.918c.122 0 .245-.122.306-.245l.55-3.426c-.06-.06-.183-.183-.244-.183m-1.407 1.958c-.123.55-.55.978-1.163.978-.305 0-.55-.122-.673-.244-.122-.184-.183-.429-.183-.734a1.12 1.12 0 0 1 1.101-.98c.306 0 .49.123.673.245.184.184.245.49.245.735"></path>
                                    </g>
                                    <path fill="#139AD6" d="M32.486 18.973h-.979c-.061 0-.183.061-.183.122l-.062.306-.06-.122c-.246-.306-.674-.428-1.163-.428-1.101 0-2.08.856-2.264 2.018a1.823 1.823 0 0 0 .367 1.53c.306.367.734.49 1.285.49.918 0 1.407-.551 1.407-.551l-.061.306c0 .122.061.183.183.183h.918c.122 0 .245-.122.306-.245l.55-3.426c-.06-.06-.122-.183-.244-.183m-1.407 1.958c-.123.55-.55.978-1.163.978-.305 0-.55-.122-.672-.244-.123-.184-.184-.429-.184-.734a1.12 1.12 0 0 1 1.101-.98c.306 0 .49.123.673.245.245.184.306.49.245.735"></path>
                                    <path fill="#263B80" d="M22.881 18.973h-1.04c-.122 0-.183.061-.245.122l-1.345 2.08-.612-1.957c-.061-.123-.123-.184-.306-.184h-.979c-.122 0-.183.122-.183.245l1.1 3.242-1.04 1.468c-.06.123 0 .306.123.306h.979c.122 0 .183-.06.245-.122l3.364-4.833c.184-.184.062-.367-.06-.367"></path>
                                    <path fill="#139AD6" d="M33.648 17.199l-.856 5.506c0 .122.06.183.183.183h.857c.122 0 .244-.122.306-.244l.856-5.384c0-.122-.061-.184-.183-.184h-.98c-.06-.06-.122 0-.183.123"></path>
                                    <g>
                                        <path fill="#263B80" d="M24.442 3.88c-.514-.586-1.468-.88-2.79-.88h-3.67c-.22 0-.44.22-.514.44L16 13.057c0 .22.147.367.294.367h2.275l.588-3.597v.147c.073-.22.293-.44.514-.44h1.1c2.13 0 3.745-.881 4.259-3.304v-.22c-.074 0-.074 0 0 0 .073-.954-.074-1.542-.588-2.13"></path>
                                        <path fill="#139AD6" d="M24.956 6.01v.22c-.514 2.496-2.129 3.304-4.258 3.304h-1.1c-.221 0-.441.22-.515.44l-.734 4.478c0 .147.074.294.294.294h1.909c.22 0 .44-.147.44-.367v-.074l.367-2.275v-.147c0-.22.22-.367.44-.367h.294c1.835 0 3.304-.734 3.67-2.937.148-.88.074-1.688-.366-2.202a.752.752 0 0 0-.44-.367"></path>
                                        <path fill="#232C65" d="M24.442 5.79c-.073 0-.146-.074-.22-.074-.073 0-.147 0-.22-.073-.294-.074-.587-.074-.954-.074h-2.864c-.073 0-.146 0-.22.074a.404.404 0 0 0-.22.367l-.587 3.817v.147c.073-.22.293-.44.514-.44h1.1c2.13 0 3.745-.881 4.259-3.304 0-.073 0-.147.073-.22-.147-.074-.22-.147-.367-.147-.22-.073-.22-.073-.294-.073"></path>
                                    </g>
                                </g>
                            </g>
                        </g>
                    </svg>

                </div>

            </div>
            <div class="frb-footer frb-smallprint">
                {{MediaWiki:FundraisingBanners/SmallPrint-2017}}
            </div>
        </div><!--frb-message-->
    </div><!--frb-layout-->
</div>

<script>
var frb = frb || {};

frb.show = function() {
    $('.frb-in-article').css('display', 'block');
};

frb.hide = function() {
    /* Hide the banner, and remove related event handlers */
    /* Don't set a cookie: this is a large banner and only shown on first view anyway */
    $('.frb').hide();
    $('.frb-prevent-page-jump').hide();
    $(window).off('.frb');
    $('#toc a').off('.frb');
};

/**
 * Show the given step
 * Literally just move into place and make it visible,
 * there may be other stuff needed to prepare it.
 *
 * @param  {string} step - name of step
 */
frb.showStep = function( step ) {

    var w = 320, // width in px
        d = 300  // animation duration in ms

    function moveLeft( $el ) {
        $el.animate({ 'margin-left': -w }, d, function() {
            $(this).css({ 'visibility': 'hidden' });
        })
    }

    function moveRight( $el ) {
        $el.animate({ 'margin-left': w }, d, function() {
            $(this).css({ 'visibility': 'hidden' });
        })
    }

    function moveVisible( $el ) {
        $el.css({ 'visibility': 'visible' }).animate({ 'margin-left': 0 }, d);
    }

    if ( step === '1' ) {
        moveVisible( $('.frb-step-1') );
          moveRight( $('.frb-step-optin, .frb-step-upsell, .frb-step-monthly-diff-amt') )
    } else if ( step === 'optin' ) {
           moveLeft( $('.frb-step-1') );
        moveVisible( $('.frb-step-optin') );
          moveRight( $('.frb-step-upsell, .frb-step-monthly-diff-amt') );
    } else if ( step === 'upsell' ) {
           moveLeft( $('.frb-step-1, .frb-step-optin') );
        moveVisible( $('.frb-step-upsell') );
          moveRight( $('.frb-step-monthly-diff-amt') );
    } else if ( step === 'monthly-diff-amt' ) {
           moveLeft( $('.frb-step-1, .frb-step-optin, .frb-step-upsell') );
        moveVisible( $('.frb-step-monthly-diff-amt') );
    } else {
        console.log( 'Invalid step: ' + step );
    }

};

frb.toggleMonthly = function( monthly ) {
    if( monthly.type === 'checkbox' ){
        monthly = monthly.checked;
    }
    if ( monthly ) {
        $('#frb-frequency-monthly').prop("checked", true);
        $('#frb-monthly-checkbox').prop("checked", true);
        $('#frb-form').addClass('form-monthly');
        $('.no-monthly input[type=radio]').attr('disabled', true);
        $('.no-monthly').prop('disabled', false);
        $('#frb-form').addClass('form-monthly');
        if( $( '.form-monthly .no-monthly input[type=radio]' ).is(':checked') ) {
            $('.form-monthly .no-monthly input[type=radio]').removeAttr('checked');
            frb.setMethod({});
        }
        $('.frb-cta-label-monthly').show();
    } else {
        $('#frb-frequency-onetime').prop("checked", true);
        $('#frb-monthly-checkbox').prop("checked", false);
        $('#frb-form').removeClass('form-monthly');
        $('.no-monthly input[type=radio]').attr('disabled', false);
        $('.frb-cta-label-monthly').hide();
    }
};

frb.rml = {

    post: function() {
        /* Create the iframe for the form and use it as the form's target */
        var frameName = 'remindFrame';
        var $form = $('#frb-rml-form');
        if ( $("iframe[name=" + frameName + "]").length === 0 ) {
            var $iframe = $('<iframe style="display: none;" name="' + frameName + '"></iframe>');
            $form.attr('target', $iframe.attr('name'));
            $form.after($iframe);
        }
        $form[0].submit();
    },

    getCurrentDate: function() {
        /* Get current date in correct format for Silverpop */
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth()+1; // January is 0!
        var yyyy = today.getFullYear();

        if( dd < 10 ) {
            dd = '0' + dd;
        }
        if( mm < 10 ) {
            mm = '0' + mm;
        }

        return mm+'/'+dd+'/'+yyyy;
    },

    init: function() {
        /* Prep the reminder form */

        var form = document.getElementById('frb-rml-form');

        form.rml_country.value    = mw.centralNotice.data.country;
        form.rml_language.value   = mw.centralNotice.data.uselang;
        form.rml_submitDate.value = frb.rml.getCurrentDate();
        form.rml_segment.value    = Math.floor((Math.random() * 100) + 1);

        $('.frb-rml-link').click(function() {
            $('.frb-rml-form').toggle();
            $('#frb-rml-email').focus();
            return false;
        });

        $('#frb-rml-submit').click(function() {
            if ( mw.util.validateEmail( form.Email.value ) ) {
                frb.rml.post();
                $('.frb-rml-form, .frb-rml-link').attr('style','display:none !important');
                $('.frb-rml-ty').show();
                window.setTimeout( function() {
                    frb.hide();
                }, 2500);
                mw.centralNotice.internal.hide.setHideWithCloseButtonCookies(); // Hide future banners for 7 days
                return false;
            } else {
                $('#frb-rml-email').addClass('frb-haserror').focus();
                $('.frb-error-invalidemail').show();
                return false;
            }
        });
    }

};

{{MediaWiki:FundraisingBanners/LocalizeData-2017.js}}
{{MediaWiki:FundraisingBanners/CoreJS-2018.js}}
{{MediaWiki:FundraisingBanners/LocalizeJS-2017.js}}

{{MediaWiki:FR2014/Resources/alterImpressionData.js}}


$(function() {
    var language = mw.centralNotice.data.uselang;
    var country  = mw.centralNotice.data.country;
    var currency = frb.getCurrency(country);
    var validAmount;
    var validMethod;
    var validOptin;
    var form = document.getElementById('frb-form');

    mw.loader.using(['mediawiki.util']).then(function() {
        frb.rml.init();
    });

    frb.initAmountOptions();
    frb.localizeAmountOptions( frb.amounts.options7, currency, country, language, true );
    frb.localizeErrors();

    frb.storedOptions = {};
    frb.extraData = {};

    frb.setMethod = function(options) {
        frb.storedOptions = options;
    };

    frb.updateUpsellAsk = function() {
        var amount, feeAmount, upsellAmount,
            list = frb.amounts.monthlySuggest[currency];

        /* TODO: how to remove this? It's here for choosing a different
        monthly amount. But means going back and changing on step 1 has no effect */
        if ( form.otherMonthlyAmount.value !== '' ) {
            upsellAmount = form.otherMonthlyAmount.value;
        } else {

            amount = frb.getAmount(form);
            feeAmount = frb.calculateFee(amount);
            if ( $('#frb-ptf-checkbox').prop('checked') ) {
                amount = amount + feeAmount;
            }

            for (var i = list.length - 1; i >= 0; i--) {
                if ( amount <= list[i][0] ) {
                    upsellAmount = list[i][1];
                }
            }

            form.otherMonthlyAmount.value = upsellAmount;
        }

        var upsellAmountFormatted = frb.formatCurrency(currency, upsellAmount, language);
        $('.frb-upsell-ask').text(upsellAmountFormatted);

    };

    $('.frb-amounts').on('input change', function(e) {
        var target = $(e.target);
        if ( target.attr('id') !== 'input_amount_other' ) {
            if ( frb.validateAmount() ) {
                validAmount = 1;
            } else {
                validAmount = 0;
            }
        }
        frb.updateFeeDisplay();
        frb.activateCTA();
    });

    $('.frb-methods').on('change', function() {
        $('.frb-methods').removeClass('frb-haserror');
        $('.frb-error-method').hide();
        $('.frb-optin').slideDown();
        validMethod = 1;
        frb.activateCTA();
    });

    // Opt-in interaction
    $('.frb-optin').on('change', function() {
        $('.frb-optin').removeClass('frb-haserror');
        $('.frb-error-optin').hide();
        if ( $('#frb-optin-no').is(':checked') ) {
            $('.frb-optin-prompt').removeClass('is-positive');
            $('.frb-optin-prompt').slideDown( frb.stepVisible );
        } else {
            $('.frb-optin-prompt').addClass('is-positive');
        }
        validOptin = 1;
        frb.activateCTA();
    });

    // Go to the next step of the form
    $('#frb-continue').on('click', function(e) {
        e.preventDefault();
        var status = {amount: false, method: false};

        // Validate amount
        if( frb.validateAmount() ){
            status.amount = true;
        } else {
            frb.extraData.validateError = 1;
        }

        // Validate method
        if ($('input[name="frb-methods"]:checked').length === 1) {
            status.method = true;
        } else {
            frb.extraData.validateError = 1;
            $('.frb-methods').addClass('frb-haserror');
            $('.frb-error-method').show();
        }

        if (status.amount === true && status.method === true) {

            frb.updateUpsellAsk();

            $('.frb-rml-link, .frb-rml').hide();

            if ( frb.optinRequired ) {
                frb.showStep('optin');
            } else if ( frb.upsellPossible() ) {
                frb.showStep('upsell');
            } else {
                frb.submitForm( frb.storedOptions );
            }

        }
    });

    /* -- Back buttons -- */
    $('.frb-step-optin .frb-back').on('click', function(e) {
        frb.showStep('1');
        return false;
    });

    $('.frb-step-upsell .frb-back').on('click', function(e) {
        if ( frb.optinRequired ) {
            frb.showStep('optin');
        } else {
            frb.showStep('1');
        }
        return false;
    });

    $('.frb-step-monthly-diff-amt .frb-back').on('click', function(e) {
        validAmount = 1;
        frb.activateCTA();
        frb.toggleMonthly(false);
        frb.showStep('upsell');
        return false;
    });

    // Donate monthly other amount
    $('.frb-monthly-diff-amt-link').on('click', function(e) {
        document.getElementById('frb-form').otherMonthlyAmount.value = '';
        validAmount = 0;
        frb.activateCTA();
        frb.toggleMonthly(true);
        frb.showStep('monthly-diff-amt');
        return false;
    });

    // Validate monthly other amount
    $('#frb-amt-monthly-other-input').on('input change', function(e) {
        if ( frb.validateMonthlyAmount() ) {
            validAmount = 1;
            frb.updateUpsellAsk();
        } else {
            validAmount = 0;
        }
        frb.activateCTA();
    });

    frb.getMonthlyAmount = function() {
        var amount = null;

        // Check the "monthly other" amount box
        if (form.otherMonthlyAmount.value !== '') {
            var otherMonthlyAmount = form.otherMonthlyAmount.value;
            otherMonthlyAmount = otherMonthlyAmount.replace(/[,.](\d)$/, ':$10');
            otherMonthlyAmount = otherMonthlyAmount.replace(/[,.](\d)(\d)$/, ':$1$2');
            otherMonthlyAmount = otherMonthlyAmount.replace(/[$,.]/g, '');
            otherMonthlyAmount = otherMonthlyAmount.replace(/:/, '.');
            amount = otherMonthlyAmount;
        }

        amount = parseFloat(amount);

        if ( isNaN(amount) ) {
            return 0;
        } else {
            var totalMonthlyAmountFormatted = frb.formatCurrency(currency, amount, language);
            $('.frb-monthly-total').text(totalMonthlyAmountFormatted);

            return amount;
        }
    };

    frb.validateMonthlyAmount = function() {
        var amount = frb.getMonthlyAmount();
        var currency  = frb.getCurrency( mw.centralNotice.data.country );
        var minAmount = frb.amounts.minimums[ currency ];

        if ( amount === null || isNaN(amount) || amount <= 0 || amount < minAmount ) {
            $('.frb-error-bigamount').hide();
            $('.frb-error-smallamount').show();
            return false;
        } else if ( amount > frb.maxUSD * minAmount ) {
            $('.frb-error-bigamount').show();
            return false;
        } else {
            $('.frb-error-smallamount, .frb-error-bigamount').hide();
            return true;
        }
    };

    frb.submitMonthly = function() {
        frb.extraData.monthlyUpsell = 1;
        frb.extraData.originalAmt = frb.getAmount().toString();
        
        frb.toggleMonthly(true);
        document.getElementById('input_amount_other').checked = true;
        document.getElementById('frb-ptf-checkbox').checked = false;
        form.otherAmount.value = form.otherMonthlyAmount.value;
        frb.submitForm(frb.storedOptions);
    }

    // Submit form
    $('#frb-monthly-donate-yes').on('click', function(e) {
        frb.submitMonthly();
        return false;
    });

    $('#frb-monthly-donate-no').on('click', function(e) {
        frb.submitForm(frb.storedOptions);
        return false;
    });

    $('#frb-donate-monthly-other').on('click', function (e) {
        if (frb.validateMonthlyAmount()) {
            frb.submitMonthly();
        }
        return false;
    });

    frb.upsellPossible = function() {
        // Only do monthly upsell if initial selection is one-time and payment method supports monthly
        if ( frb.getRecurring(document.getElementById('frb-form')) ) {
            return false;
        } else if ( !frb.shouldShowRecurring( frb.storedOptions, mw.centralNotice.data.country ) ) {
            return false;
        } else {
            return true;
        }
    }

    $('#frb-donate').on('click', function(e) {
        if ( frb.validateForm( frb.storedOptions) ) {
            if ( frb.upsellPossible() ) {
                frb.showStep('upsell');
            } else {
                frb.submitForm( frb.storedOptions );
            }
        }
        return false;
    });

    // Make sure form elements don't overflow if expanded
    frb.stepVisible = function(){
        var divHeight = $('.frb-step-optin').height();
        $('#frb-form').animate({'height': divHeight + 80},100);
    };

    /* End step functionality */

    // Focus for #input_amount_other
    $('.frb-amt-other').click(function() {
        document.getElementById('input_amount_other').checked = true;
        frb.updateFeeDisplay();
        $('#frb-amt-other-input').focus();
    });

    // Activate #input_amount_other radio when tabbing into #frb-amt-other-input
    $('#frb-amt-other-input').focus(function() {
        document.getElementById('input_amount_other').checked = true;
        frb.updateFeeDisplay();
    });

    frb.activateCTA = function(){
        if ( validAmount && validMethod ) {
            $('#frb-continue, #frb-monthly-donate-yes, #frb-monthly-donate-no, #frb-donate-monthly-other').addClass('active');
            if (validOptin) {
                $('#frb-donate').addClass('active');
            }
        } else {
            $('.frb-submit').removeClass('active');
        }
    };


    /* --- Nag/minimized banner functionality --- */

    // On Load
    var bannerOuterHeight = $('.frb-in-article').outerHeight( true );
    var stickyHeaderTop = bannerOuterHeight + $('.frb-in-article').offset().top + 200;

    frb.initNag = function() {

        // Intercept TOC clicks, and account for nag height
        $('#toc ul > li a').on('click.frb', function(e) {
            e.preventDefault();

            var anchor = $(this).attr('href').replace('#','');
            anchor = $("[id='"+anchor+"']");

            var offsetTop = anchor.offset().top - $('.frb-nag').outerHeight();
            $('body, html').animate({ scrollTop: offsetTop }, 10);
            window.location.hash = $(this).attr('href');
        });

        // Scroll to section, accounting for nag height
        if ( window.location.hash ) {
            var agent = navigator.userAgent;
            var offsetTop;
            var hash = decodeURI(window.location.hash).replace('#','');
            hash = $("[id='"+hash+"']");

            offsetTop = hash.offset().top + bannerOuterHeight - $('.frb-nag').outerHeight();
            $('body, html').animate( { scrollTop: offsetTop }, 100 );
        }

        $(window).on('resize.frb', function() {
            bannerOuterHeight = $('.frb-in-article').outerHeight( true );
            stickyHeaderTop = bannerOuterHeight + $('.frb-in-article').offset().top + 200;
        });

        function scrollFunction() {
            if( $(window).scrollTop() > stickyHeaderTop ) {
                if ( !frb.fixed ) {
                    $('.frb-nag').show();
                    $('.frb-rml').appendTo('.frb-nag .frb-form-wrapper');
                }
            } else {
                if ( frb.fixed ) {
                    $('.frb-prevent-page-jump')
                        .removeClass('frb-in-article')
                        .hide();
                    $('#frb-main')
                        .removeClass('frb-fixed')
                        .addClass('frb-in-article');
                    $('.frb-rml').appendTo('#frb-main .frb-form-wrapper');
                    frb.fixed = false;
                } else {
                    $('.frb-nag').hide();
                    $('.frb-rml').appendTo('#frb-main .frb-form-wrapper');
                }
            }
        }

        $(window).on('load.frb scroll.frb resize.frb', function() {
            scrollFunction();
        });

        frb.clickNag = function(e) {
            // Add spacer to prevent jump
            var inArticleHeight = $('#frb-main').outerHeight();
            $('.frb-prevent-page-jump')
                .height( inArticleHeight )
                .addClass('frb-in-article') // So that it can be used for stickyHeader calcs
                .show();

            $('#frb-main')
                .removeClass('frb-in-article')
                .addClass('frb-fixed');

            $('.frb-rml').appendTo('#frb-main .frb-form-wrapper')
            $('.frb-nag').hide();

            frb.fixed = true;
            frb.extraData.clickedNag = 1;
            return false;
        };

        $('.frb-nag').on( 'click', frb.clickNag );
        $('#nag-yes-btn').on( 'click', frb.clickNag );

        $('#nag-rml-btn').on( 'click', function(e) {
            $('.frb-nag').addClass('frb-rml-displayed');
            $('.frb-nag').off('click'); // Remove so they can interact with RML
        });

    };

    $('.close-rml').on('click', function(e) {
        $('.frb-nag').removeClass('frb-rml-displayed');
    });

    $('.frb-close').on('click', function (e) {
        frb.hide();
        return false;
    });

    /* Hide banner outside of main namespace (and Main Page, for sites where that isn't in main namespace) */
    if ( mw.config.get('wgNamespaceNumber') > 0 && !mw.config.get('wgIsMainPage') ) {
        mw.centralNotice.bannerData.hideResult = true;
        mw.centralNotice.bannerData.hideReason = 'namespace';
    }
    /* Hide banner on mobile site, in case wrong device settings were chosen */
    if ( mw.config.get('skin') === 'minerva' ) {
        mw.centralNotice.bannerData.hideResult = true;
        mw.centralNotice.bannerData.hideReason = 'other';
    }

    if (!mw.centralNotice.bannerData.hideResult) {
        frb.initNag();
        frb.show();
    }

});
</script>
